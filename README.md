# SEQUIN

SEQUIN is a framework leveraging network science principles and physics-based constraint optimization to explore sequential failures in the grid. This repository contains code and data for the corresponding ACM/IEEE ICCPS 2025 paper, "SEQUIN: A Network Science and Physics-based Approach to Identify Sequential N-k Attacks in Electric Power Grids". 

The DOI generated by Zenodo for the release is: \url{https://doi.org/10.5281/zenodo.14836525}.

## Installation Instructions

Most of the required dependencies are included in a docker image as follows:
```
$ docker pull andrewgchio/iccps-sequin:v1.0.2
$ docker run -it --tty --entrypoint /bin/bash andrewgchio/iccps-sequin:v1.0.2
```

This project also utilizes the Gurobi Optimization solver - a commercial solver that requires a license. To run Gurobi with docker, a Web License Service (WLS) license is needed. Please follow the directions [here](https://hub.docker.com/r/gurobi/optimizer) to obtain a WLS license (which should be a file, `gurobi.lic`). In a different terminal, copy the `gurobi.lic` file into the docker container:
```
$ docker cp /path/to/gurobi.lic my-container-name:/opt/gurobi 
```

The `docker pull` command will retrieve the docker image, and the `docker run` command will open a bash terminal that will be able to run everything. 
Here, `/path/to/gurobi.lic` refers to the path that the `gurobi.lic` file is stored, and `my-container-name` refers to the name of the container. 

To test that the environment is set up correctly, the following command can be run, which should run an optimization over the Case 14 benchmark. 

```
$ julia --project=. src/main.jl --use_separate_budgets --rerun --case pglib_opf_case14_ieee.m --problem traditional -l 2 -k 2
```

## Command Line Options

The above command illustrates the intended interface for running code from this project. There are a number of different command line options that are implemented. 

* `--case` This option is used to define a matpower case filename. The case `pglib_opf_case14_ieee.m` is the default.

* `--data_path` This option defines the path to the data directory. The `data/` directory is the default. 

* `--filetype` This option defines the type of file. `matpower` is the default.

* `--output_path` This option defines the path to the output directory. The `output/` directory is the default. 

* `--problem` This option defines the type of problem that we wish to solve. There are mulitple possible options: 

    * `SEQUIN` This runs the SEQUIN approach for identifying sequential failures. 

    * `traditional` This runs the standard N-k model, in which the `k` lines are assumed to fail simultaneously or near-simultaneously.
    
    * `permutation` This runs the permutation heuristic, which iterates over all possible permutations of the traditional solution. 

    * `enumeration` This runs an enumeration over all possible permutations of the edges of the given network. It is generally very expensive to use.

    * `criticality` This runs the greedy criticality heuristic, which identifies sequential failures by greedily selecting the line with the highest criticality. 

    * `flow`  This runs the greedy criticality heuristic, which identifies sequential failures by greedily selecting the line with the highest power flow. 

    * `impact` This runs the greedy criticality heuristic, which identifies sequential failures by greedily selecting the line with the highest load shed. 

* `--timeout` This sets a timeout for the optimizer

* `--optimality_gap` This sets the optimality gap for the optimizer

* `--budget`, `-k` This sets the total budget for the interdiction problem.

* `--line_budget` `-l` This sets the line budget for the interdiction problem. Currently, this must be set equal to `--budget`.

* `--use_separate_budgets` This option needs to be set to force separate budgets to be selected. Part of future work will be to extend the model to different types of component failures.

* `--generator_ramping_bounds` This option is a floating point number in [0,1] that determines the degree to which generators can deviate from their current setpoint. 

* `--iterline_budget`, `-m` This option is used to determine if more than one network component should fail at a time.

* `--failed` This is a comma-separated string that sets specific lines to fail. 

* `--rerun` This option needs to be set to allow the code to be re-run. 

* `--do_perturb_loads` This option is a boolean value determining whether loads in the network should first be perturbed before initializing equilibrium.


